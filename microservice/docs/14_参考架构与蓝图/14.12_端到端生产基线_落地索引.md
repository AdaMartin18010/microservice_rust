# 14.12 端到端生产基线·落地索引（Rust 1.90）

> 汇总生产环境的“最小可行基线与参数模板”，串联 3/4/5/6/7/8/9/10/11 章节，提供一站式落地路径与验收清单。

## 14.12.1 最小落地路径

- 框架/通信：见 `3.x`（Axum/Tonic/Volo）
- 服务发现：见 `4.x`（Consul/etcd/Nacos）
- 网关与路由：见 `5.x`（Traefik/Kong/自定义策略）
- 数据与缓存：见 `6.x`（SQLx/SeaORM/Redis）
- 消息与 EDA：见 `7.x`（NATS/Kafka/组合范式）
- 可观测性：见 `8.x`（OTel/Prometheus/Jaeger/Grafana）
- 安全与合规：见 `9.x`（JWT/OAuth2/TLS/供应链安全）
- 配置与部署：见 `10.x`（Docker/K8s/CI-CD）
- 性能与测试：见 `11.x`（基准/压测/形式化验证入门）

## 14.12.2 参数模板（示例）

- Gateway：连接超时 5s、读超时 60s、限流（令牌桶）默认 1000 rps/实例
- RPC：重试 2 次、指数退避上限 1s、全链路超时 2s（内网）
- OTel：动态采样基础 5%，热点服务自适应采样 1%~20%
- Kafka：生产 acks=all、retries=6、linger.ms=5、batch.size=64KB
- Redis：连接池最小 8、最大 64，命中率 SLO ≥ 95%

> 参数为示例基线，需结合业务压测校准。

## 14.12.3 验收清单（节选）

- SLO/SLA 已定义并落表；告警阈值覆盖 关键四象限（可用性、延迟、错误率、容量）
- 回滚策略已验证（蓝绿/金丝雀），自动化回滚执行成功
- 观测链路端到端可见（TraceId/SpanId）且有问题溯源手册
- 数据一致性策略已选型（见 `12.5`）并完成演练

## 14.12.4 风险与回退

- 拥塞与放大：网关/下游的级联故障；在 `5.x/11.x` 有回压/熔断/隔离建议
- 数据热点：缓存失效风暴；在 `6.x` 提供热点键保护与渐进失效
- 事件积压：在 `7.x` 提供重试/停机清空/限速回放流程

## 14.12.5 关联阅读

- `14.10` 端到端蓝图
- `12.5` 数据一致性落地合辑（Outbox/Saga 对照）
- `9.6` 供应链安全与 CI/CD 流水线
- `25.2` 混沌工程 Playbook

---
最后更新：2025-09-25
