# 12.2 错误处理与容错机制

## 12.2.1 统一错误模型

- 域内错误（`thiserror`）与边界错误（HTTP/gRPC/消息）映射；
- 错误分级：用户错误/系统错误/依赖错误；
- 语义化错误码与可本地化消息。

## 12.2.2 容错策略

- 超时/重试（幂等限定 + 抖动退避）；
- 熔断/隔离舱（Bulkhead）；
- 限流/排队与优先级；
- 回退（降级响应/缓存/只读模式）。

## 12.2.3 观测

- 错误率指标、异常事件追踪、集中告警；
- 关联请求 ID/TraceID，加速定位根因。
