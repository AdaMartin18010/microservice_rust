# 11.1 性能基准测试

## 11.1.1 微基准（Criterion）

- 使用 `criterion` 进行函数级基准，固定输入、隔离 IO；
- 统计 P50/P95/P99 与置信区间；
- 绑定 CI 阈值，回归即失败。

## 11.1.2 端到端压测

- HTTP：wrk/hey/k6；gRPC：ghz；
- 分层：网关 → 服务 → 存储；
- 基线/峰值/容量曲线，记录扩缩容点。
